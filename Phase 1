【プロジェクト概要】
将棋デスクトップアプリ「Shogi Desktop」を作成してください。

【目的】
- 主目的: 本格的な将棋対戦環境を提供する
- ターゲットユーザー: 将棋初心者〜上級者
- 解決する課題: 強いAIとの対戦、ローカルでの2人対戦を1つのアプリで実現

【必須機能（MVP）】
1. 将棋盤の表示と操作
   - 9x9の盤面表示
   - 駒の配置・移動（ドラッグ&ドロップまたはクリック選択）
   - 駒の動ける場所のハイライト表示
   - 成り/不成りの選択ダイアログ

2. 対人戦モード
   - ローカル2人対戦
   - 手番表示（先手/後手）
   - 持ち駒の表示と打ち込み

3. 対AI戦モード
   - USIプロトコルによる外部エンジン（やねうら王）連携
   - AI思考中の表示
   - AI強さの調整（思考時間/深さ制限）

4. ゲーム管理
   - 投了機能
   - 新規対局開始
   - 詰み/千日手/入玉の判定

【技術制約】
- フレームワーク: Tauri 2.x + React 18 + TypeScript 5.x
- スタイリング: Tailwind CSS
- 状態管理: Zustand
- 将棋ロジック: 自前実装（駒の動き、合法手生成、勝敗判定）
- AI連携: USIプロトコル（やねうら王エンジンを同梱）
- ビルド: Windows/macOS/Linux対応

【非機能要件】
- パフォーマンス: 駒移動は60fps維持、AIの応答は設定時間内
- UX: 誤操作防止（合法手のみ選択可能）

【成功条件】
1. 将棋のルールに従った対局が最後まで行える
2. 全ての合法手が正しく生成される（違法手が指せない）
3. やねうら王エンジンとUSI通信が正常に動作する
4. 詰み判定が正しく機能する
5. Windows/macOSでビルドが成功する

【除外（将来対応）】
- オンライン対戦
- 棋譜の保存/読み込み（KIF/CSA形式）
- 待った機能
- 定跡データベース